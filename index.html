<!doctype html><html lang="es"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>RSF - Dashboard</title><link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
<link rel="shortcut icon" href="assets/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
<link rel="manifest" href="assets/site.webmanifest">
<link rel="stylesheet" href="assets/style.css"></head><body><header class="topbar">
  <div class="brand">
    <div class="logo" id="logo-container"></div>
    <h1 data-i18n="brand">RESTAURANTES SIN FRONTERAS</h1>
  </div>
  <button id="menu-btn" class="menu-btn" aria-label="Menú" title="Menú">
    <span></span>
    <span></span>
    <span></span>
  </button>
  <nav class="nav" id="main-nav">
    <a href="index.html" data-i18n="nav_dashboard">Dashboard</a>
    <a href="restaurantes.html" data-i18n="nav_restaurants">Restaurantes</a>
    <a href="menus.html" data-i18n="nav_menus">Menús</a>
    <a href="facturacion.html" data-i18n="nav_billing">Facturación</a>
    <a href="reportes.html" data-i18n="nav_reports">Reportes</a>
    <a href="opiniones.html" data-i18n="nav_opinions">Opiniones</a>
    <a href="login.html" data-i18n="login">Login</a>
    <a href="users.html" data-admin-only>Usuarios</a>
  </nav>
  <div class="controls">
    <select id="lang-select" onchange="setLang(this.value)"><option value="es">ES</option><option value="en">EN</option></select>
    <button id="login-btn" onclick="showLogin()" data-i18n="login">Login</button>
    <span id="user-badge" class="user-badge hidden"></span>
  </div>
</header>
<script>
document.addEventListener('DOMContentLoaded', async ()=>{
  document.getElementById('year').textContent = new Date().getFullYear();
  applyLang(); renderLogo(); await updateDashboard();
});
</script>
    <div class="kpi">
      <div class="kpi-head"><span class="kpi-title">Opiniones</span><small class="kpi-sub">(Últimas)</small></div>
      <div class="kpi-value"><span id="total-opinions">0</span><span id="opinions-growth" class="kpi-growth"></span></div>
      <div class="kpi-spark"><canvas id="spark-opinions" width="120" height="36"></canvas></div>
    </div>
  </section>

  <section class="card grid two-col">
    <div>
      <div class="card">
        <h3>Actividad reciente</h3>
        <ul id="recent-restaurants" class="recent-list small"></ul>
      </div>
      <div class="card">
        <h3 data-i18n="chain_info">Información de la Cadena</h3>
        <label data-i18n="name">Nombre:<input id="chain-name" data-readonly-for-viewer/></label>
        <label data-i18n="desc">Descripción:<input id="chain-desc" data-readonly-for-viewer/></label>
        <div style="display:flex;gap:8px;margin-top:8px"><button onclick="saveChain()" data-readonly-for-viewer>Guardar</button><span class="small muted" id="chain-saved"></span></div>
      </div>
    </div>
    <div>
      <div class="card">
        <h3>Ventas por país (Top 5)</h3>
        <table id="sales-by-country"><tbody></tbody></table>
      </div>
      <div class="card">
        <h3>Promedio de reseñas</h3>
        <div class="rating-row"><div class="avg-rating" id="avg-rating">—</div><div class="rating-stats small" id="rating-stats">—</div></div>
      </div>
    </div>
  </section>
  
</main>
<footer class="footer">© <span id="year"></span> RESTAURANTES SIN FRONTERAS - RSF. <span data-i18n="rights">Todos los derechos reservados.</span></footer>
<div id="login-modal" class="card hidden" style="position:fixed;right:20px;top:80px;max-width:260px;">
  <h4>Login </h4>
  <p class="small">Selecciona un rol:</p>
  <button onclick="quickLogin('DUEÑO')">Admin (DUEÑO)</button> <button onclick="quickLogin('EMPLEADO1')">Staff (EMPLEADO1)</button> <button onclick="quickLogin('user')">Usuario (user)</button>
</div>
<script src="assets/app.js"></script>
<script>
document.addEventListener('DOMContentLoaded', async ()=>{
  document.getElementById('year').textContent = new Date().getFullYear();
  applyLang(); renderLogo(); await updateDashboard();
});
</script>
</body></html>
